{% extends 'base.html' %}

{% block content %}
<div class="container-fluid py-4">
    
    <div class="mb-5">
        <h2 class="fw-bold text-dark mb-1">
            {% if user.is_authenticated %}
                Xush kelibsiz, <span class="text-primary">{{ user.first_name }}</span>! ðŸ‘‹
            {% else %}
                Assalomu alaykum!
            {% endif %}
        </h2>
        <p class="text-muted">Bugungi faoliyatingizni nimadan boshlaymiz?</p>
    </div>

    <div class="row g-4">
        
        <div class="col-md-6 col-lg-6">
            <div class="card border-0 shadow-sm h-100 p-4 text-center hover-card">
                <div class="mb-3 text-primary bg-primary-subtle rounded-circle d-inline-flex p-3">
                    <i class="fa-solid fa-graduation-cap fa-2x"></i>
                </div>
                <h5 class="fw-bold mt-2">Hemis Tizimi</h5>
                <p class="text-muted small mb-4">Dars jadvali, davomat, baholar va shaxsiy topshiriqlarni nazorat qiling.</p>
                
                {% if user.is_authenticated %}
                    <a href="{% url 'hemis_data' %}" class="btn btn-primary rounded-pill w-100 mt-auto fw-bold py-2">
                        O'quv jarayoniga o'tish
                    </a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline-primary rounded-pill w-100 mt-auto fw-bold py-2">
                        Tizimga Kirish
                    </a>
                {% endif %}
            </div>
        </div>

        <div class="col-md-6 col-lg-6">
            <div class="card border-0 shadow-sm h-100 p-4 text-center hover-card">
                <div class="mb-3 text-success bg-success-subtle rounded-circle d-inline-flex p-3">
                    <i class="fa-solid fa-robot fa-2x"></i>
                </div>
                <h5 class="fw-bold mt-2">Hemis AI Yordamchi</h5>
                <p class="text-muted small mb-4">"Ertaga qanday darsim bor?" kabi savollarga shaxsiy ma'lumotlaringiz asosida javob oling.</p>
                
                <a href="{% url 'ai_chat' %}" class="btn btn-success rounded-pill w-100 mt-auto fw-bold py-2">
                    Suhbatlashish
                </a>
            </div>
        </div>

        <div class="col-md-6 col-lg-6">
            <div class="card border-0 shadow-sm h-100 p-4 text-center hover-card" style="border-left: 5px solid #6610f2 !important;">
                <div class="mb-3 text-white rounded-circle d-inline-flex p-3" style="background-color: #6610f2;">
                    <i class="fa-solid fa-brain fa-2x"></i>
                </div>
                <h5 class="fw-bold mt-2">Murojaatlarga AI Javob</h5>
                <p class="text-muted small mb-4">Faqat ta'lim, fan va o'quv jarayoniga oid savollaringizga maxsus AI orqali javob oling.</p>
                
                <a href="{% url 'education_chat' %}" class="btn text-white rounded-pill w-100 mt-auto fw-bold py-2" style="background-color: #6610f2;">
                    Ta'lim AI ga kirish
                </a>
            </div>
        </div>

        <div class="col-md-6 col-lg-6">
            <div class="card border-0 shadow-sm h-100 p-4 text-center hover-card">
                <div class="mb-3 text-warning bg-warning-subtle rounded-circle d-inline-flex p-3">
                    <i class="fa-solid fa-file-signature fa-2x"></i>
                </div>
                <h5 class="fw-bold mt-2">Bilimni Sinash</h5>
                <p class="text-muted small mb-4">O'z bilimingizni testlar va yozma ishlar orqali mustahkamlang.</p>
                
                {% if user.is_teacher %}
                    <a href="{% url 'teacher_dashboard' %}" class="btn btn-warning text-white rounded-pill w-100 mt-auto fw-bold py-2 mb-2">
                        <i class="fa-solid fa-check-double me-2"></i> Ishlarni Tekshirish
                    </a>
                {% else %}
                    <div class="d-flex gap-2 mt-auto">
                        <a href="{% url 'essay_list' %}" class="btn btn-warning text-white rounded-pill w-50 fw-bold py-2">
                            <i class="fa-solid fa-pen-nib"></i> Yozma Ish
                        </a>
                        <a href="{% url 'exam_list' %}" class="btn btn-outline-warning rounded-pill w-50 fw-bold py-2">
                            <i class="fa-solid fa-list-check"></i> Testlar
                        </a>
                    </div>
                {% endif %}
            </div>
        </div>

    </div>
</div>

<style>
    .hover-card { transition: transform 0.3s; }
    .hover-card:hover { transform: translateY(-5px); }
</style>
{% endblock %}